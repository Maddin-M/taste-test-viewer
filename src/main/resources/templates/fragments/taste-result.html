<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">

<th:block th:fragment="header">
  <div style="background: #e2e3e5; border: solid 1px grey; font-weight: bold; padding: 0.5rem;">
    <p style="text-align: center; margin:0;">Ergebnisse</p>
  </div>
</th:block>

<th:block th:fragment="result">
  <table class="table table-borderless table-secondary"
         style="text-align: center; vertical-align: middle; border-bottom: solid 1px grey; border-left: solid 1px grey; border-right: solid 1px grey;">
    <colgroup>
      <col width="0%"/>
      <col width="30%"/>
      <col width="70%"/>
      <col width="0%"/>
    </colgroup>

    <tr style="border-bottom: solid 1px grey;">
      <th colspan="4" style="background-color: #c4c4c4;"
          th:text="${tasteTester.name}"></th>
    </tr>

    <tr style="border-bottom: solid 1px #9c5700;">
      <td colspan="3" style="background-color: #ffeb9c; color: #9c5700;">
        Richtig geraten
      </td>
      <td colspan="1" style="background-color: #ffeb9c; color: #9c5700;"
          th:text="${result.correctPercent}"></td>
    </tr>

    <tr>
      <td th:rowspan="${#lists.size(result.minScored) + 1}"
          style="vertical-align: middle; font-weight: bold;
                    background-color: #ffc7ce; color: #9c0006;
                    border-right: solid 1px #9c0006;">HASS
      </td>
      <td style="background-color: #ffc7ce; color: #9c0006; border-bottom: solid 1px #9c0006;">
        Schätzung
      </td>
      <td style="background-color: #ffc7ce; color: #9c0006; border-bottom: solid 1px #9c0006;"
          th:text="${result.hatePredictionName}"></td>
      <th style="background-color: #ffc7ce; color: #9c0006; border-left: solid 1px #9c0006;">
        Punkte
      </th>
    </tr>
    <tr>
      <td th:rowspan="${#lists.size(result.minScored)}"
          style="vertical-align: middle;background-color: #ffc7ce; color: #9c0006;">
        Nach Punkten
      </td>
      <td style="background-color: #ffc7ce; color: #9c0006;"
          th:text="${result.minScored[0].tasteObjectName}"></td>
      <td th:rowspan="${#lists.size(result.minScored)}"
          th:text="${result.minScored[0].scoreString}"
          style="vertical-align: middle;background-color: #ffc7ce; color: #9c0006;"></td>
    </tr>
    <th:block th:if="${#lists.size(result.minScored) > 1}">
      <th:block th:each="minScore, iter : ${result.minScored}">
        <th:block th:if="${not iter.first}">
          <tr>
            <td style="background-color: #ffc7ce; color: #9c0006;"
                th:text="${minScore.tasteObjectName}"></td>
          </tr>
        </th:block>
      </th:block>
    </th:block>

    <tr>
      <td th:rowspan="${#lists.size(result.maxScored) + 1}"
          style="vertical-align: middle; font-weight: bold;
                    background-color: #c6efce; color: #006100;
                    border-right: solid 1px #006100;">FAV
      </td>
      <td style="background-color: #c6efce; color: #006100; border-bottom: solid 1px #006100;">
        Schätzung
      </td>
      <td style="background-color: #c6efce; color: #006100; border-bottom: solid 1px #006100;"
          th:text="${result.favouritePredictionName}"></td>
      <th style="background-color: #c6efce; color: #006100; border-left: solid 1px #006100;">
        Punkte
      </th>
    </tr>
    <tr>
      <td th:rowspan="${#lists.size(result.maxScored)}"
          style="vertical-align: middle; background-color: #c6efce; color: #006100;">
        Nach Punkten
      </td>
      <td style="background-color: #c6efce; color: #006100;"
          th:text="${result.maxScored[0].tasteObjectName}"></td>
      <td th:rowspan="${#lists.size(result.maxScored)}"
          th:text="${result.maxScored[0].scoreString}"
          style="vertical-align: middle;background-color: #c6efce; color: #006100;"></td>
    </tr>
    <th:block th:if="${#lists.size(result.maxScored) > 1}">
      <th:block th:each="maxScore, iter : ${result.maxScored}">
        <th:block th:if="${not iter.first}">
          <tr>
            <td style="background-color: #c6efce; color: #006100;"
                th:text="${maxScore.tasteObjectName}"></td>
          </tr>
        </th:block>
      </th:block>
    </th:block>

  </table>
</th:block>

</html>